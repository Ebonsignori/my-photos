(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{7090:function(e,n,t){"use strict";function r(e,n,t,r,a,o,u){try{var i=e[o](u),l=i.value}catch(s){return void t(s)}i.done?n(l):Promise.resolve(l).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,o){var u=e.apply(n,t);function i(e){r(u,a,o,i,l,"next",e)}function l(e){r(u,a,o,i,l,"throw",e)}i(void 0)}))}}t.r(n),t.d(n,{__N_SSG:function(){return C},default:function(){return _}});var o=t(4649),u=t(7135),i=t.n(u),l=t(6677),s=t(2023),c=t.n(s),f=t(7378),h=t(2212);function p(e){return e}function g(e,n){return"string"===typeof n&&(n=e.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return v(e,n)}))}:v(e,n)}function v(e,n){var t=n.id,r=n.bbox,a=null==n.properties?{}:n.properties,o=function(e,n){var t=function(e){if(null==e)return p;var n,t,r=e.scale[0],a=e.scale[1],o=e.translate[0],u=e.translate[1];return function(e,i){i||(n=t=0);var l=2,s=e.length,c=new Array(s);for(c[0]=(n+=e[0])*r+o,c[1]=(t+=e[1])*a+u;l<s;)c[l]=e[l],++l;return c}}(e.transform),r=e.arcs;function a(e,n){n.length&&n.pop();for(var a=r[e<0?~e:e],o=0,u=a.length;o<u;++o)n.push(t(a[o],o));e<0&&function(e,n){for(var t,r=e.length,a=r-n;a<--r;)t=e[a],e[a++]=e[r],e[r]=t}(n,u)}function o(e){return t(e)}function u(e){for(var n=[],t=0,r=e.length;t<r;++t)a(e[t],n);return n.length<2&&n.push(n[0]),n}function i(e){for(var n=u(e);n.length<4;)n.push(n[0]);return n}function l(e){return e.map(i)}function s(e){var n,t=e.type;switch(t){case"GeometryCollection":return{type:t,geometries:e.geometries.map(s)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:t,coordinates:n}}return s(n)}(e,n);return null==t&&null==r?{type:"Feature",properties:a,geometry:o}:null==r?{type:"Feature",id:t,properties:a,geometry:o}:{type:"Feature",id:t,bbox:r,properties:a,geometry:o}}var d=t(2616),m=t(6526),b=t(8481),y=t(8153),w=t(4246);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var j={},M=function(e){if(!j[e.name]){var n=(t=.15,r=.4,Math.random()*(r-t)+t);return j[e.name]=n,n}var t,r;return j[e.name]},O={},P=function(e){if(!O[e.name]){var n=c()({format:"rgba",alpha:.75});return O[e.name]=n,n}return O[e.name]},x=function(){return.85},R=function(){return.1},C=!0;function _(e){var n=e.images,r=(0,f.useRef)(),u=(0,l.useRouter)(),s=(0,f.useMemo)((function(){return u.asPath.match(/#([a-z0-9]+)/gi)||""}),[u]),c=(0,f.useState)(null),p=c[0],v=c[1],j=(0,f.useState)([]),O=j[0],C=j[1],_=(0,f.useState)(s?n[s]:void 0),A=_[0],S=_[1],E=(0,f.useCallback)((function(e){(e=e.toLowerCase())?u.push("#".concat(e),void 0,{shallow:!0}):u.push("/photo-map",void 0,{shallow:!0}),S(e)}),[u]),L=(0,f.useMemo)((function(){return function(e){var n;return'\n      <div style="text-align: center; color: white; background-color: rgba(0, 0, 0, 0.75); padding: 10px; border-radius: 10px;">\n        <div>'.concat(null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.address?e.location.address:"",", <b>").concat(e.name,"</b></div>\n        <div><em>").concat((0,m.Sg)(e.date),"</em></div>\n      </div>\n    ")}}),[]);return(0,f.useEffect)((function(){if(!Object.values(O).length){for(var e=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n),u=Object.values(n),l=0;l<u.length;l++){var s=u[l].name;e[s].prev=l-1>=0?u[l-1].name:u[u.length-1].name,l+1<u.length?e[s].next=u[l+1].name:e[s].next=u[0].name}C(e)}function c(){return(c=a(i().mark((function e(){var n,a,o,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(246),t.e(316),t.e(312)]).then(t.bind(t,2116));case 2:return n=e.sent.default,a=new h.YBo({color:"darkslategrey",side:h.ehD}),e.next=6,fetch("//unpkg.com/world-atlas/land-110m.json");case 6:return o=e.sent,e.next=9,o.json();case 9:u=e.sent,l=g(u,u.objects.land).features,v((0,w.jsx)(n,{ref:r,backgroundColor:"rgba(0,0,0,0)",showGlobe:!1,showAtmosphere:!1,polygonsData:l,polygonCapMaterial:a,polygonSideColor:function(){return"rgba(0, 0, 0, 0)"},pointsData:Object.values(O),pointLat:function(e){return e.location?e.location.latitude:null},pointLng:function(e){return e.location?e.location.longitude:null},pointAltitude:M,pointRadius:R,pointColor:P,pointResolution:2,pointLabel:L,onPointClick:function(e){E(e.name)},labelsData:Object.values(O),labelLat:function(e){return e.location?e.location.latitude:null},labelLng:function(e){return e.location?e.location.longitude:null},labelText:function(){return""},labelAltitude:M,labelLabel:L,labelSize:function(){return 0},labelDotRadius:x,labelColor:P,labelResolution:2,onLabelClick:function(e){E(e.name)}}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p||function(){c.apply(this,arguments)}()}),[p,r,O,n,L,E]),(0,f.useMemo)((function(){r&&r.current&&r.current.pointOfView&&r.current.pointOfView({lat:"39.01",lng:"-100.88",altitude:1.5})}),[p,r]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.Z,{title:"Photo Map",description:"Globe showing locations of all photos on the site",keywords:"Photo Map, Locations, Image Globe",image:"https://evan-bio-assets.s3.amazonaws.com/blog-themed-pencil-icon.jpg",imageAlt:"Pencil icon with colors matching the theme of the blog"}),(0,w.jsx)(b.Z,{images:O,imageName:A,setSelectedImageName:E}),(0,w.jsx)(d.ZP,{title:"Photos",titleUrl:"/",subtitle:"by Evan Bonsignori",navLinks:[{url:"/license",name:"License"},{url:"/photo-map",name:"Photo Map",active:!0},{url:"https://writing.evan.bio",name:"Blog"},{url:"https://evan.bio",name:"About Me"}]}),p]})}},2149:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photo-map",function(){return t(7090)}])},2023:function(e,n,t){e=t.nmd(e),function(t,r){var a=function(){var e=null,n={};v();var t=[],r=function(n){if(void 0!==(n=n||{}).seed&&null!==n.seed&&n.seed===parseInt(n.seed,10))e=n.seed;else if("string"===typeof n.seed)e=y(n.seed);else{if(void 0!==n.seed&&null!==n.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,s;if(null!==n.count&&void 0!==n.count){for(var c=n.count,f=[],h=0;h<n.count;h++)t.push(!1);for(n.count=null;c>f.length;){var p=r(n);null!==e&&(n.seed=e),f.push(p)}return n.count=c,f}return i([l=a(n),s=o(l,n),u(l,s,n)],n)};function a(e){if(t.length>0){var n=h(o=w(e.hue)),r=(o[1]-o[0])/t.length,a=parseInt((n-o[0])/r);return!0===t[a]?a=(a+2)%t.length:t[a]=!0,(n=h(o=[(o[0]+a*r)%359,(o[0]+(a+1)*r)%359]))<0&&(n=360+n),n}var o;return(n=h(o=s(e.hue)))<0&&(n=360+n),n}function o(e,n){if("monochrome"===n.hue)return 0;if("random"===n.luminosity)return h([0,100]);var t=c(e),r=t[0],a=t[1];switch(n.luminosity){case"bright":r=55;break;case"dark":r=a-10;break;case"light":a=55}return h([r,a])}function u(e,n,t){var r=l(e,n),a=100;switch(t.luminosity){case"dark":a=r+20;break;case"light":r=(a+r)/2;break;case"random":r=0,a=100}return h([r,a])}function i(e,n){switch(n.format){case"hsvArray":return e;case"hslArray":return b(e);case"hsl":var t=b(e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)";case"hsla":var r=b(e),a=n.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+a+")";case"rgbArray":return d(e);case"rgb":return"rgb("+d(e).join(", ")+")";case"rgba":var o=d(e);a=n.alpha||Math.random();return"rgba("+o.join(", ")+", "+a+")";default:return p(e)}}function l(e,n){for(var t=f(e).lowerBounds,r=0;r<t.length-1;r++){var a=t[r][0],o=t[r][1],u=t[r+1][0],i=t[r+1][1];if(n>=a&&n<=u){var l=(i-o)/(u-a);return l*n+(o-l*a)}}return 0}function s(e){if("number"===typeof parseInt(e)){var t=parseInt(e);if(t<360&&t>0)return[t,t]}if("string"===typeof e)if(n[e]){var r=n[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var a=m(e)[0];return[a,a]}return[0,360]}function c(e){return f(e).saturationRange}function f(e){for(var t in e>=334&&e<=360&&(e-=360),n){var r=n[t];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return n[t]}return"Color not found"}function h(n){if(null===e){var t=.618033988749895,r=Math.random();return r+=t,r%=1,Math.floor(n[0]+r*(n[1]+1-n[0]))}var a=n[1]||1,o=n[0]||0,u=(e=(9301*e+49297)%233280)/233280;return Math.floor(o+u*(a-o))}function p(e){var n=d(e);function t(e){var n=e.toString(16);return 1==n.length?"0"+n:n}return"#"+t(n[0])+t(n[1])+t(n[2])}function g(e,t,r){var a=r[0][0],o=r[r.length-1][0],u=r[r.length-1][1],i=r[0][1];n[e]={hueRange:t,lowerBounds:r,saturationRange:[a,o],brightnessRange:[u,i]}}function v(){g("monochrome",null,[[0,0],[100,0]]),g("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),g("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),g("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),g("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),g("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),g("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),g("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function d(e){var n=e[0];0===n&&(n=1),360===n&&(n=359),n/=360;var t=e[1]/100,r=e[2]/100,a=Math.floor(6*n),o=6*n-a,u=r*(1-t),i=r*(1-o*t),l=r*(1-(1-o)*t),s=256,c=256,f=256;switch(a){case 0:s=r,c=l,f=u;break;case 1:s=i,c=r,f=u;break;case 2:s=u,c=r,f=l;break;case 3:s=u,c=i,f=r;break;case 4:s=l,c=u,f=r;break;case 5:s=r,c=u,f=i}return[Math.floor(255*s),Math.floor(255*c),Math.floor(255*f)]}function m(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var n=parseInt(e.substr(0,2),16)/255,t=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,a=Math.max(n,t,r),o=a-Math.min(n,t,r),u=a?o/a:0;switch(a){case n:return[(t-r)/o%6*60||0,u,a];case t:return[60*((r-n)/o+2)||0,u,a];case r:return[60*((n-t)/o+4)||0,u,a]}}function b(e){var n=e[0],t=e[1]/100,r=e[2]/100,a=(2-t)*r;return[n,Math.round(t*r/(a<1?a:2-a)*1e4)/100,a/2*100]}function y(e){for(var n=0,t=0;t!==e.length&&!(n>=Number.MAX_SAFE_INTEGER);t++)n+=e.charCodeAt(t);return n}function w(e){if(isNaN(e)){if("string"===typeof e)if(n[e]){var t=n[e];if(t.hueRange)return t.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){return f(m(e)[0]).hueRange}}else{var r=parseInt(e);if(r<360&&r>0)return f(e).hueRange}return[0,360]}return r}();e&&e.exports&&(n=e.exports=a),n.randomColor=a}()}},function(e){e.O(0,[737,956,378,481,774,888,179],(function(){return n=2149,e(e.s=n);var n}));var n=e.O();_N_E=n}]);